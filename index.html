<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Capital Edge</title>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-primary: #ffffff;
        --bg-secondary: #f4f4f5;
        --bg-tertiary: #e4e4e7;
        --text-primary: #000000;
        --text-secondary: #3f3f46;
        --border-primary: #d4d4d8;
        --accent-red: #dc2626;
        --accent-blue: #2563eb;
      }
      html[data-theme="dark"] {
        --bg-primary: #000000;
        --bg-secondary: #18181b;
        --bg-tertiary: #27272a;
        --text-primary: #ffffff;
        --text-secondary: #a1a1aa;
        --border-primary: #3f3f46;
        --accent-red: #ef4444;
        --accent-blue: #3b82f6;
      }
      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-secondary);
      }
      .main-container {
        background-color: var(--bg-secondary);
        border: 1px solid var(--border-primary);
      }
      .text-main-primary {
        color: var(--text-primary);
      }
      .text-main-secondary {
        color: var(--text-secondary);
      }
      .text-accent-red {
        color: var(--accent-red);
      }
      .text-accent-blue {
        color: var(--accent-blue);
      }
      .input-group input,
      .input-group select,
      .input-group textarea {
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
        border-color: var(--border-primary);
        @apply w-full rounded-md p-2 placeholder-slate-500 focus:outline-none focus:ring-2 transition;
      }
      .game-card {
        background-color: var(--bg-tertiary);
        border: 1px solid var(--border-primary);
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out,
          border-color 0.2s ease-in-out;
      }
      .watchlist-star.active svg {
        fill: #facc15;
        color: #facc15;
      }
      .btn {
        @apply px-4 py-2 rounded-md font-semibold text-white transition;
      }
      .btn-sm {
        @apply px-2 py-1 text-xs;
      }
      .btn-primary {
        background-color: var(--accent-red);
      }
      .btn-primary:hover {
        filter: brightness(1.1);
      }
      .btn-secondary {
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
        border: 1px solid var(--border-primary);
      }
      .btn-secondary:hover {
        filter: brightness(0.9);
      }
      .btn-success {
        @apply bg-green-600 hover:bg-green-700;
      }
      .btn-danger {
        @apply bg-red-600 hover:bg-red-700;
      }

      .odds-table tbody tr:nth-child(even) {
        background-color: var(--bg-primary);
      }
      .sortable-header {
        cursor: pointer;
        user-select: none;
      }
      .sortable-header:hover {
        color: var(--text-primary);
      }
      .tooltip-container {
        position: relative;
        display: inline-block;
      }
      .tooltip-text {
        visibility: hidden;
        width: 200px;
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
        text-align: center;
        border-radius: 6px;
        padding: 8px;
        position: absolute;
        z-index: 10;
        bottom: 125%;
        left: 50%;
        margin-left: -100px;
        opacity: 0;
        transition: opacity 0.3s;
        border: 1px solid var(--border-primary);
        font-size: 0.8rem;
        font-weight: normal;
      }
      .tooltip-container:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
      }
      @keyframes card-fade-in {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .card-fade-in {
        animation: card-fade-in 0.5s ease-out forwards;
      }
      .game-card:hover {
        transform: translateY(-4px);
        border-color: var(--accent-blue);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .pill-selector {
        display: flex;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid var(--border-primary);
        width: fit-content;
        margin: 8px auto 0;
      }
      .spread-pill {
        padding: 6px 12px;
        cursor: pointer;
        background-color: var(--bg-tertiary);
        color: var(--text-secondary);
        font-size: 0.875rem;
        font-weight: 500;
        transition: background-color 0.2s, color 0.2s;
        border-right: 1px solid var(--border-primary);
      }
      .spread-pill:last-child {
        border-right: none;
      }
      .spread-pill.active {
        background-color: var(--accent-red);
        color: white;
      }
      .input-group-btn {
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
        border: 1px solid var(--border-primary);
        @apply w-full rounded-md p-2 placeholder-slate-500 focus:outline-none focus:ring-2 transition;
      }
      .market-filter-option {
        @apply block w-full px-4 py-2 text-left text-sm text-main-primary hover:bg-main-secondary;
      }
      .best-odds-highlight {
        background-color: rgba(34, 197, 94, 0.15); /* Greenish highlight */
        border-radius: 4px;
      }
    </style>
  </head>
  <body class="p-4 md:p-8">
    <div class="w-full">
      <div
        id="main-app-container"
        class="main-container backdrop-blur-sm p-4 md:p-8 rounded-2xl shadow-2xl"
      >
        <!-- ... Header and Tabs ... -->
        <div class="flex justify-between items-center mb-6">
          <div class="flex items-center">
            <svg
              width="60"
              height="60"
              viewBox="0 0 104 90"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M26 0L0 45L26 90H78L104 45L78 0H26Z" fill="#263959" />
              <path d="M78 0L52 45L78 90H26L52 45L26 0H78Z" fill="#E53B3A" />
            </svg>
            <div class="ml-4 text-left">
              <h1
                class="text-2xl md:text-3xl font-bold text-main-primary tracking-wider"
              >
                NOVA
              </h1>
              <p class="text-xs md:text-sm text-main-secondary tracking-widest">
                SPORTS CAPITAL
              </p>
            </div>
          </div>
          <div class="flex items-center space-x-2">
            <button
              id="settings-btn"
              class="p-2 rounded-full focus:outline-none"
            >
              <svg
                class="h-6 w-6 text-main-secondary"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                ></path>
              </svg>
            </button>
            <button
              id="theme-toggle"
              class="p-2 rounded-full focus:outline-none"
            >
              <svg
                id="theme-icon-sun"
                class="h-6 w-6 text-main-secondary hidden"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                ></path>
              </svg>
              <svg
                id="theme-icon-moon"
                class="h-6 w-6 text-main-secondary"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <div class="border-b border-border-primary mb-6">
          <nav class="-mb-px flex space-x-8" aria-label="Tabs">
            <button
              id="tab-dashboard"
              class="tab-btn border-accent-red text-accent-red whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              data-view="dashboard-view"
            >
              Dashboard
            </button>
            <button
              id="tab-ev-bets"
              class="tab-btn border-transparent text-main-secondary hover:text-main-primary hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              data-view="ev-bets-view"
            >
              +EV Bets
            </button>
            <button
              id="tab-odds-screen"
              class="tab-btn border-transparent text-main-secondary hover:text-main-primary hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              data-view="odds-screen-view"
            >
              Odds Screen
            </button>
            <button
              id="tab-tracker"
              class="tab-btn border-transparent text-main-secondary hover:text-main-primary hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              data-view="tracker-view"
            >
              My Tracker
            </button>
            <button
              id="tab-system"
              class="tab-btn border-transparent text-main-secondary hover:text-main-primary hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              data-view="system-tracker-view"
            >
              System Performance
            </button>
          </nav>
        </div>

        <!-- Main Content -->
        <main id="main-views-container" class="p-4 flex-grow">
            <!-- ... Other Views ... -->

            <div id="tracker-view" class="view hidden">
              <h2 class="text-2xl font-bold text-main-primary text-center mb-4">
                My Performance Tracker
              </h2>

              <!-- Bankroll Management Section -->
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                  <div class="bg-secondary p-4 rounded-lg">
                      <label for="initial-bankroll-input" class="text-sm text-main-secondary block mb-1">Initial Bankroll</label>
                      <input type="number" id="initial-bankroll-input" value="1000" class="input-group-btn w-full">
                  </div>
                  <div class="bg-secondary p-4 rounded-lg text-center">
                      <h4 class="text-lg font-semibold text-main-secondary">Total Bankroll</h4>
                      <p id="tracker-total-bankroll" class="text-2xl font-bold text-main-primary">$1000.00</p>
                  </div>
                  <div class="bg-secondary p-4 rounded-lg text-center">
                      <h4 class="text-lg font-semibold text-main-secondary">In Play</h4>
                      <p id="tracker-in-play" class="text-2xl font-bold text-main-primary">$0.00</p>
                  </div>
                  <div class="bg-secondary p-4 rounded-lg text-center">
                      <h4 class="text-lg font-semibold text-main-secondary">Available</h4>
                      <p id="tracker-available" class="text-2xl font-bold text-green-500">$1000.00</p>
                  </div>
              </div>

              <div
                class="result-card grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-6"
              >
                <div>
                  <h4 class="text-lg font-semibold text-main-secondary">
                    Record
                  </h4>
                  <p
                    id="tracker-record"
                    class="text-2xl font-bold text-main-primary"
                  >
                    0 - 0
                  </p>
                </div>
                <div>
                  <h4 class="text-lg font-semibold text-main-secondary">
                    Profit/Loss
                  </h4>
                  <p id="tracker-pl" class="text-2xl font-bold text-main-primary">
                    $0.00
                  </p>
                </div>
                <div>
                  <h4 class="text-lg font-semibold text-main-secondary">ROI</h4>
                  <p
                    id="tracker-roi"
                    class="text-2xl font-bold text-main-primary"
                  >
                    0.00%
                  </p>
                </div>
              </div>
              <div class="flex justify-end mb-4">
                  <button id="refresh-tracker-btn" class="btn btn-secondary btn-sm">Refresh</button>
              </div>
              <div id="tracked-plays-list" class="space-y-4"></div>
            </div>

            <!-- ... Other Views ... -->
        </main>
      </div>
    </div>
    
    <!-- ... Modals and Templates ... -->
    <template id="tracked-play-card-template">
      <div
        class="tracked-play-card bg-tertiary p-4 rounded-lg border border-border-primary"
      >
        <div class="flex justify-between items-start">
          <div>
            <p class="font-bold text-main-primary"></p>
            <p class="text-sm text-main-secondary"></p>
          </div>
          <div class="status-container text-right space-x-2"></div>
        </div>
        <div class="mt-2 text-sm">
          <p>Play: <span class="font-semibold play-details"></span></p>
          <p>Edge: <span class="font-semibold edge-details"></span></p>
        </div>
      </div>
    </template>

    <script type="module" src="js/app.js"></script>
  </body>
</html>

